(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{47:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(37),r=a.n(i),c=a(42),o=(a(47),a(7)),l=a(0);var h=function(e){return Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{className:"nav",children:[Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat",children:"Home"})}),Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/about",children:"About"})}),e.logged_in?Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/unsubscribe",children:"Unsubscribe"})}):null,e.logged_in?Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/data",children:"Signal Data"})}):null,e.logged_in?Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/portfolio",children:"Portfolio"})}):null,Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/performance",children:"Performance"})}),e.logged_in?null:Object(l.jsx)("li",{className:"navUnit",children:Object(l.jsx)(o.b,{exact:!0,activeClassName:"selectedLink",className:"navLink",to:"/3stat/signup",children:"Sign Up"})}),e.logged_in?Object(l.jsx)("button",{onClick:function(){J(),e.update_login(!1)},children:"Logout"}):null]})})},d=a(2);var u=function(){return Object(l.jsxs)("div",{className:"home content",children:[Object(l.jsx)("h1",{children:"3STAT"}),Object(l.jsx)("h3",{children:"Welcome to the 3X ETF Algorithmic Trader!"})]})};var j=function(){return Object(l.jsxs)("div",{className:"about content",children:[Object(l.jsx)("h1",{children:"About 3STAT"}),Object(l.jsx)("p",{children:"The goal and purpose of the Short-term Algorithmic Stock Market Strategies (referred to as 3STAT going forward) project will be to assess and implement an algorithm to successfully trade 3X leveraged ETFs (exchange-traded funds). With guidance from the project sponsor, the algorithm will be assessed and developed against historical market data, and then implemented with current market data. The successful implementation of the algorithm will culminate in a web application that notifies the users of specific buy and sell signals."})]})},b=a(15),m=a(8),p=a(9),O=a(6),g=a(11),x=a(10);var v=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),n=t.call(this,e),console.log("Subscribe"),console.log(e),n.state={email:"",phone:"",password:""},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(b.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,phone:this.state.phone,password:this.state.password};"Sign Up"===e.nativeEvent.submitter.value?fetch("/api/authentication/register/",{method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.result.access_token?(B(e),t.props.update_login(!0)):alert("Bad Username or Password, or Already Registered")})):"Login"===e.nativeEvent.submitter.value&&fetch("/api/authentication/login/",{method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.result.access_token?(B(e),t.props.update_login(!0)):alert("Bad Username or Password")}))}},{key:"render",value:function(){return this.props.logged_in?Object(l.jsx)(d.a,{to:"/3stat"}):Object(l.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(l.jsxs)("label",{children:["Email:",Object(l.jsx)("input",{name:"email",type:"text",value:this.state.email,onChange:this.handleChange})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{children:["Phone #:",Object(l.jsx)("input",{name:"phone",type:"text",value:this.state.phone,onChange:this.handleChange})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{children:["Password:",Object(l.jsx)("input",{name:"password",type:"text",value:this.state.password,onChange:this.handleChange})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit",value:"Sign Up"}),Object(l.jsx)("input",{type:"submit",value:"Login"})]})}}]),a}(s.a.Component),f=function(e){return Object(l.jsxs)("div",{className:"subscribe content",children:[Object(l.jsx)("h1",{children:"Sign Up"}),Object(l.jsx)("h3",{children:"Enter an email and a phone number (text, optional), and a password to sign up for 3STAT"}),Object(l.jsx)(v,{logged_in:e.logged_in,update_login:e.update_login})]})};var k=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={email:"",phone:""},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(b.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){alert("Email submitted: "+this.state.email+" / Phone # submitted: "+this.state.phone),e.preventDefault()}},{key:"render",value:function(){return Object(l.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(l.jsxs)("label",{children:["Email:",Object(l.jsx)("input",{name:"email",type:"text",value:this.state.email,onChange:this.handleChange})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{children:["Phone #:",Object(l.jsx)("input",{name:"phone",type:"text",value:this.state.phone,onChange:this.handleChange})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit",value:"Submit"})]})}}]),a}(s.a.Component),_=function(){return Object(l.jsxs)("div",{className:"unsubscribe content",children:[Object(l.jsx)("h1",{children:"Unsubscribe"}),Object(l.jsx)("h3",{children:"Enter an email or phone number to unsubscribe"}),Object(l.jsx)(k,{})]})},C=["Tracked Ticker","Date","Signal","% invested"];var y=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={signals:[],isLoading:!0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;W("/3stat/signals/",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({signals:t,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"generateHeaders",value:function(){var e=[];return this.props.headers.forEach((function(t){e.push(Object(l.jsx)("th",{children:t}))})),e}},{key:"generateRows",value:function(){var e=[];return console.log("ROWS",this.state.signals.result),this.state.signals.result.forEach((function(t){var a=[];a.push(Object(l.jsx)("td",{children:t.ticker})),a.push(Object(l.jsx)("td",{children:t.date})),a.push(Object(l.jsx)("td",{children:t.signal})),a.push(Object(l.jsx)("td",{children:t.total_invested+"%"})),e.push(Object(l.jsx)("tr",{children:a},t.id))})),e}},{key:"render",value:function(){if(this.state.isLoading)return Object(l.jsx)("p",{children:"Data is loading..."});var e=this.generateHeaders(),t=this.generateRows();return Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:e})}),Object(l.jsx)("tbody",{children:t})]})}}]),a}(s.a.Component),S=function(){return Object(l.jsxs)("div",{className:"data content",children:[Object(l.jsx)("h1",{children:"Signal Data"}),Object(l.jsx)(y,{headers:C})]})},w=a(40),N=(a(56),{fontSize:"5px",fontFamily:"sans-serif"}),T=["#86e39f","#11782c","#65d900","#789163"],L=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={ticker:"",percent_invested:0,isLoading:!0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;W("/3stat/signals/",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t.result.at(-1).ticker),e.setState({ticker:t.result.at(-1).ticker,percent_invested:t.result.at(-1).total_invested,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"makeGraphData",value:function(){var e=[],t=0,a=100-this.state.percent_invested;return a>0&&(e.push({title:"CASH",value:a,color:T[t]}),t++),this.state.percent_invested>0&&e.push({title:this.state.ticker,value:this.state.percent_invested,color:T[t]}),e}},{key:"render",value:function(){return this.state.isLoading?Object(l.jsx)("p",{children:"Data loading..."}):Object(l.jsxs)("div",{className:"portfolio content",children:[Object(l.jsx)("h1",{children:"Current Portfolio Holdings"}),Object(l.jsx)(w.PieChart,{data:this.makeGraphData(),label:function(e){var t=e.x,a=e.y,n=e.dx,s=e.dy,i=e.dataEntry;return Object(l.jsx)("text",{x:t,y:a,dx:n,dy:s,"dominant-baseline":"central","text-anchor":"middle",style:{fontSize:"5px",fontFamily:"sans-serif"},children:Math.round(i.percentage)+"% "+i.title})},labelStyle:N,labelPosition:60,segmentsShift:.4,radius:45})]})}}]),a}(s.a.Component),M=["2 Weeks","1 Month","3 Months","6 Months","1 Year"],P=new Map,D=(new Date).toDateString();var A=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={currentPeriod:"2 Weeks",startingCash:1e3,tempCash:1e3,isLoading:!0},n.onClick=n.handleClick.bind(Object(O.a)(n)),n.onSubmit=n.handleSubmit.bind(Object(O.a)(n)),n.onChange=n.handleChange.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/3stat/stats/",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({stats:t.result})})).then((function(){P.set("2 Weeks",{period:"2 Weeks",rate_of_return:e.state.stats.at(4).rate_of_return,benchmark_ror:e.state.stats.at(4).benchmark_ror[0][0].ror,drawdown:e.state.stats.at(4).drawdown}),P.set("1 Month",{period:"1 Month",rate_of_return:e.state.stats.at(3).rate_of_return,benchmark_ror:e.state.stats.at(3).benchmark_ror[0][0].ror,drawdown:e.state.stats.at(3).drawdown}),P.set("3 Months",{period:"3 Months",rate_of_return:e.state.stats.at(2).rate_of_return,benchmark_ror:e.state.stats.at(2).benchmark_ror[0][0].ror,drawdown:e.state.stats.at(2).drawdown}),P.set("6 Months",{period:"6 Months",rate_of_return:e.state.stats.at(1).rate_of_return,benchmark_ror:e.state.stats.at(1).benchmark_ror[0][0].ror,drawdown:e.state.stats.at(1).drawdown}),P.set("1 Year",{period:"1 Year",rate_of_return:e.state.stats.at(0).rate_of_return,benchmark_ror:e.state.stats.at(0).benchmark_ror[0][0].ror,drawdown:e.state.stats.at(0).drawdown}),e.setState({isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"handleClick",value:function(e){this.setState({currentPeriod:e.target.name})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=parseFloat(this.state.tempCash);Number.isNaN(t)||this.setState({startingCash:t})}},{key:"handleChange",value:function(e){this.setState({tempCash:e.target.value})}},{key:"generatePeriodHeaders",value:function(){var e=this,t=[];return M.forEach((function(a){a===e.state.currentPeriod?t.push(Object(l.jsx)("button",{className:"selectedBtn",name:a,onClick:e.onClick,children:a})):t.push(Object(l.jsx)("button",{name:a,onClick:e.onClick,children:a}))})),t}},{key:"setTwoDecimals",value:function(e){return(Math.round(100*e)/100).toFixed(2)}},{key:"buildMetricRow",value:function(e,t,a){var n="+";t<0&&(n="-",t*=-1);var s="-";return a&&(s=n+"$"+this.setTwoDecimals(t/100*this.state.startingCash).toString()),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e}),Object(l.jsx)("td",{children:n+t.toString()+"%"}),Object(l.jsx)("td",{children:s})]})}},{key:"generateMetricRows",value:function(){var e=[],t=P.get(this.state.currentPeriod);return e.push(this.buildMetricRow("3STAT Rate Of Return",t.rate_of_return,!0)),e.push(this.buildMetricRow("S&P 500 Rate of Return",t.benchmark_ror,!0)),e.push(this.buildMetricRow("Monthly Draw Down Percent",t.drawdown,!1)),e}},{key:"render",value:function(){var e=this.generatePeriodHeaders();if(this.state.isLoading)return Object(l.jsxs)("div",{className:"metricsView",children:[Object(l.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(l.jsx)("label",{htmlFor:"startingCash",className:"performanceLabel",children:"Starting cash ($):"}),Object(l.jsx)("input",{name:"startingCash",type:"text",value:this.state.tempCash,onChange:this.onChange}),Object(l.jsx)("input",{type:"submit",value:"Set"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"periodTabs",children:[Object(l.jsx)("span",{className:"performanceLabel",children:"Time Period: "}),e]}),Object(l.jsxs)("p",{className:"periodsNote",children:["Time periods ending ",D]}),Object(l.jsxs)("table",{className:"metricsTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Metric"}),Object(l.jsx)("th",{children:"% change"}),Object(l.jsxs)("th",{children:["Dollar change ",Object(l.jsx)("br",{}),"(based on starting cash)"]})]})}),Object(l.jsx)("tbody",{children:"Data is Loading..."})]})]});var t=this.generateMetricRows();return Object(l.jsxs)("div",{className:"metricsView",children:[Object(l.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(l.jsx)("label",{for:"startingCash",className:"performanceLabel",children:"Starting cash ($):"}),Object(l.jsx)("input",{name:"startingCash",type:"text",value:this.state.tempCash,onChange:this.onChange}),Object(l.jsx)("input",{type:"submit",value:"Set"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"periodTabs",children:[Object(l.jsx)("span",{className:"performanceLabel",children:"Time Period: "}),e]}),Object(l.jsxs)("p",{className:"periodsNote",children:["Time periods ending ",D]}),Object(l.jsxs)("table",{className:"metricsTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Metric"}),Object(l.jsx)("th",{children:"% change"}),Object(l.jsxs)("th",{children:["Dollar change ",Object(l.jsx)("br",{}),"(based on starting cash)"]})]})}),Object(l.jsx)("tbody",{children:t})]})]})}}]),a}(s.a.Component),U=function(e){return Object(l.jsxs)("div",{className:"performance content",children:[Object(l.jsx)("h1",{children:"Performance Metrics"}),Object(l.jsx)(A,{map:e})]})};var E=function(e){return Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{exact:!0,path:"/3stat",component:u}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/about",component:j}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/signup",render:function(){return Object(l.jsx)(f,{logged_in:e.logged_in,update_login:e.update_login})}}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/unsubscribe",component:_}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/data",component:S}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/portfolio",component:L}),Object(l.jsx)(d.b,{exact:!0,path:"/3stat/performance",component:U})]})},R=a(41),F=Object(R.createAuthProvider)({getAccessToken:function(e){return e.result.access_token},storage:localStorage}),H=F.useAuth,W=F.authFetch,B=F.login,J=F.logout;var Y=function(){var e=H(),t=Object(n.useState)(e[0]),a=Object(c.a)(t,2),s=a[0],i=a[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(h,{logged_in:s,update_login:i}),Object(l.jsx)(E,{logged_in:s,update_login:i})]})};r.a.render(Object(l.jsx)(o.a,{children:Object(l.jsx)(Y,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.1fab8861.chunk.js.map